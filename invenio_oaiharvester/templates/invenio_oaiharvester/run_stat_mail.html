{#
# This file is part of WEKO3.
# Copyright (C) 2017 National Institute of Informatics.
#
# WEKO3 is free software; you can redistribute it
# and/or modify it under the terms of the GNU General Public License as
# published by the Free Software Foundation; either version 2 of the
# License, or (at your option) any later version.
#
# WEKO3 is distributed in the hope that it will be
# useful, but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
# General Public License for more details.
#
# You should have received a copy of the GNU General Public License
# along with WEKO3; if not, write to the
# Free Software Foundation, Inc., 59 Temple Place, Suite 330, Boston,
# MA 02111-1307, USA.
#}

<!DOCTYPE html>
<html lang="{{ lang_code }}">
    <head>
        <meta charset="utf-8" />
    </head>
    <body>
        <p>{{ _('This mail has a harvesting result.') }}</p>
        <p>{{ _('If you no longer need to recieve this feedback mail anymore, please contact the repository manager.') }}</p>
        <table>
            <tr>
                <th style="text-align: right;">[{{_('Result')}}]</th>
                <td style="width:1%"></td>
                <td>
                    {{result_text}}
                    {% if not errmsg == '' and not errmsg == None  %}
                    <p>{{errmsg}}</p>
                    {% endif %}
                </td>
            </tr>
            <tr>
                <th style="text-align: right;">[{{_('Repository')}}]</th>
                <td></td>
                <td>{{harvesting.repository_name}}</td>
            </tr>
            <tr>
                <th style="text-align: right;">[{{_('Start')}}]</th>
                <td></td>
                <td>{{start_time.strftime("%Y-%m-%d %H:%M:%S")}}</td>
            </tr>
            <tr>
                <th style="text-align: right;">[{{_('End')}}]</th>
                <td></td>
                <td>{{end_time.strftime("%Y-%m-%d %H:%M:%S")}}</td>
            </tr>
            <tr>
                <th style="text-align: right;">[{{_('Num of Items')}}]</th>
                <td></td>
                <td>{{counter['processed_items'] if 'processed_items' in counter else 0}}</td>
            </tr>
            <tr>
                <th style="text-align: right;">[{{_('Registerd')}}]</th>
                <td></td>
                <td>{{counter['created_items'] if 'created_items' in counter else 0}}</td>
            </tr>
            <tr>
                <th style="text-align: right;">[{{_('Updated')}}]</th>
                <td></td>
                <td>{{counter['updated_items'] if 'updated_items' in counter else 0}}</td>
            </tr>
            <tr>
                <th style="text-align: right;">[{{_('Deleted')}}]</th>
                <td></td>
                <td>{{counter['deleted_items'] if 'deleted_items' in counter else 0}}</td>
            </tr>
            <tr>
                <th style="text-align: right;">[{{_('Error')}}]</th>
                <td></td>
                <td>{{counter['error_items'] if 'error_items' in counter else 0}}</td>
            </tr>
            <tr>
                <th style="text-align: right;">[{{_('Base URL')}}]</th>
                <td></td>
                <td>{{harvesting.base_url}}</td>
            </tr>
            <tr>
                <th style="text-align: right;">[{{_('From Date')}}]</th>
                <td></td>
                <td>{{ harvesting.from_date.strftime("%Y-%m-%d %H:%M:%S") if harvesting.from_date else '' }}</td>
            </tr>
            <tr>
                <th style="text-align: right;">[{{_('Until Date')}}]</th>
                <td></td>
                <td>{{ harvesting.untail_date.strftime("%Y-%m-%d %H:%M:%S") if harvesting.untail_date else ''}}</td>
            </tr>
            <tr>
                <th style="text-align: right;">[{{_('Set Spec')}}]</th>
                <td></td>
                <td>{{ harvesting.set_spec if harvesting.set_spec else '' }}</td>
            </tr>
            <tr>
                <th style="text-align: right;">[{{_('Metadata Prefix')}}]</th>
                <td></td>
                <td>{{harvesting.metadata_prefix}}</td>
            </tr>
            <tr>
                <th style="text-align: right;">[{{_('Target Index')}}]</th>
                <td></td>
                <td>{{harvesting.target_index.index_name}}</td>
            </tr>
            <tr>
                <th style="text-align: right;">[{{_('Update Style')}}]</th>
                <td></td>
                <td>{{update_style}}</td>
            </tr>
        </table>
    </body>
</html>
